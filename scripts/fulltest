Script started on 2022-02-20 16:09:31-06:00 [TERM="xterm-256color" TTY="/dev/pts/0" COLUMNS="135" LINES="35"]
[?25l[?7l[0m[31m[1m            .-/+oossssoo+/-.
        `:+ssssssssssssssssss+:`
      -+ssssssssssssssssssyyssss+-
    .ossssssssssssssssss[37m[0m[1mdMMMNy[0m[31m[1msssso.
   /sssssssssss[37m[0m[1mhdmmNNmmyNMMMMh[0m[31m[1mssssss/
  +sssssssss[37m[0m[1mhm[0m[31m[1myd[37m[0m[1mMMMMMMMNddddy[0m[31m[1mssssssss+
 /ssssssss[37m[0m[1mhNMMM[0m[31m[1myh[37m[0m[1mhyyyyhmNMMMNh[0m[31m[1mssssssss/
.ssssssss[37m[0m[1mdMMMNh[0m[31m[1mssssssssss[37m[0m[1mhNMMMd[0m[31m[1mssssssss.
+ssss[37m[0m[1mhhhyNMMNy[0m[31m[1mssssssssssss[37m[0m[1myNMMMy[0m[31m[1msssssss+
oss[37m[0m[1myNMMMNyMMh[0m[31m[1mssssssssssssss[37m[0m[1mhmmmh[0m[31m[1mssssssso
oss[37m[0m[1myNMMMNyMMh[0m[31m[1msssssssssssssshmmmh[0m[31m[1mssssssso
+ssss[37m[0m[1mhhhyNMMNy[0m[31m[1mssssssssssss[37m[0m[1myNMMMy[0m[31m[1msssssss+
.ssssssss[37m[0m[1mdMMMNh[0m[31m[1mssssssssss[37m[0m[1mhNMMMd[0m[31m[1mssssssss.
 /ssssssss[37m[0m[1mhNMMM[0m[31m[1myh[37m[0m[1mhyyyyhdNMMMNh[0m[31m[1mssssssss/
  +sssssssss[37m[0m[1mdm[0m[31m[1myd[37m[0m[1mMMMMMMMMddddy[0m[31m[1mssssssss+
   /sssssssssss[37m[0m[1mhdmNNNNmyNMMMMh[0m[31m[1mssssss/
    .ossssssssssssssssss[37m[0m[1mdMMMNy[0m[31m[1msssso.
      -+sssssssssssssssss[37m[0m[1myyy[0m[31m[1mssss+-
        `:+ssssssssssssssssss+:`
            .-/+oossssoo+/-.[0m
[20A[9999999D[43C[0m[1m[31m[1mbjordan[0m@[31m[1mBronson-Laptop[0m 
[43C[0m----------------------[0m 
[43C[0m[31m[1mOS[0m[0m:[0m Ubuntu 20.04.3 LTS on Windows 10 x86_64[0m 
[43C[0m[31m[1mKernel[0m[0m:[0m 5.10.16.3-microsoft-standard-WSL2[0m 
[43C[0m[31m[1mUptime[0m[0m:[0m 1 min[0m 
[43C[0m[31m[1mShell[0m[0m:[0m zsh 5.8[0m 
[43C[0m[31m[1mTerminal[0m[0m:[0m script[0m 
[43C[0m[31m[1mCPU[0m[0m:[0m AMD Ryzen 5 2500U with Radeon Vega Mobile Gfx (8) @ 1.996GHz[0m 
[43C[0m[31m[1mMemory[0m[0m:[0m 88MiB / 6056MiB[0m 

[43C[30m[40m   [31m[41m   [32m[42m   [33m[43m   [34m[44m   [35m[45m   [36m[46m   [37m[47m   [m
[43C[38;5;8m[48;5;8m   [38;5;9m[48;5;9m   [38;5;10m[48;5;10m   [38;5;11m[48;5;11m   [38;5;12m[48;5;12m   [38;5;13m[48;5;13m   [38;5;14m[48;5;14m   [38;5;15m[48;5;15m   [m









[?25h[?7h[1m[7m%[27m[1m[0m                                                                                                                                       ]2;bjordan@Bronson-Laptop:/mnt/c/users/brain/Documents/LA Tech Sophomore/W22/CSC222/sandbox/finalProject]1;../finalProject[0m[27m[24m[J[35mbjordan@Ubuntu[WSL][39m:[31mW22/CSC222/sandbox/finalProject [1m[31m[36m% [0m[36m[39m[K[71C[32mâœ“[39m  4:09PM[80D[?1h=[?2004h[1m[31mm[0m[39m[1m[31mm[1m[31ma[0m[39m[0m[39mm[0m[39mak[32mm[32ma[32mk[32me[39m[90m clean[39m[39m [39m [39m [39m [39m [39m [90m clean[39m[39m [39m [39m [39m [39m [39m [?1l>[?2004l
]2;make]1;makemkdir obj
gcc -Wall -c src/builtins.c -o obj/builtins.o
gcc -Wall -c src/techshell.c -o obj/techshell.o
gcc -Wall -c src/redirection.c -o obj/redirection.o
gcc -Wall -c src/tokenizer.c -o obj/tokenizer.o
gcc -Wall  obj/builtins.o  obj/techshell.o  obj/redirection.o  obj/tokenizer.o -o techshell 
[1m[7m%[27m[1m[0m                                                                                                                                       ]2;bjordan@Bronson-Laptop:/mnt/c/users/brain/Documents/LA Tech Sophomore/W22/CSC222/sandbox/finalProject]1;../finalProject[0m[27m[24m[J[35mbjordan@Ubuntu[WSL][39m:[31mW22/CSC222/sandbox/finalProject [1m[31m[36m% [0m[36m[39m[K[71C[32mâœ“[39m  4:09PM[80D[?1h=[?2004h[32m.[39m[32m.[39m[90m/techshell[39m[10D[4m[32m.[4m[32m/[24m[39m[39m[4m.[39m[4m/[39m[4mt[24m[4mt[39m[4me[24m[4me[39m[4mc[24m[4mc[39m[4mh[24m[24m[32m.[24m[32m/[24m[32mt[24m[32me[24m[32mc[24m[32mh[32ms[32mh[32me[32ml[32ml[39m[1m [0m[0m [?1l>[?2004l
]2;./techshell]1;./techshell/mnt/c/users/brain/Documents/LA Tech Sophomore/W22/CSC222/sandbox/finalProject $ ls
Makefile  README.md  obj  scripts  src	techshell  testfiles
/mnt/c/users/brain/Documents/LA Tech Sophomore/W22/CSC222/sandbox/finalProject $ cat README.md
TechShell
=========

Completed as final project for CSC 222 (Systems Programming) at Louisiana Tech University

A shell which
- handles `pwd`, `cd`, and `exit` natively,
- supports I/O redirection for stdin, stdout, and stderr, and
- recognizes string arguments enclosed in `""`

Make Instructions
-----------------

The following `make` targets are provided:

- `make`: Default target compiles source with all warnings
- `make prod` : Production target which recompiles all objects using -O3 compiler flag
- `make debug`: Debug target which compiles any source which has changed to include debug messages and debugger optimization
- `make clean`: Removes all object files and test files

Implementation Details
----------------------

### I/O redirection

Before a command is executed, arguments are tokenized and scanned for redirection operators (`<`, `>`, and `2>`). The argument
after each operator is passed to fopen. If fopen is successful, the tokens for the redirection operator and filename are removed
from the list of tokens, and the file descriptor of the opened file is saved for later use.

Once a new process is forked, all saved file descriptors are duplicated to their respective streams before exec() is called. This
way, only the forked process is affected by the redirection

### Builtin commands

- `ls` runs chdir on the current process rather than forking a new process
- `pwd` prints out the present working directory (which is already saved in a variable) without forking a new process
- `exit` exits the program, returning the exit value of the last process, according to convention.
/mnt/c/users/brain/Documents/LA Tech Sophomore/W22/CSC222/sandbox/finalProject $ wc < README.md
  37  251 1611
/mnt/c/users/brain/Documents/LA Tech Sophomore/W22/CSC222/sandbox/finalProject $ ps
  PID TTY          TIME CMD
  225 pts/1    00:00:00 zsh
  369 pts/1    00:00:00 techshell
  373 pts/1    00:00:00 ps
/mnt/c/users/brain/Documents/LA Tech Sophomore/W22/CSC222/sandbox/finalProject $ ps -aux
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root         1  0.0  0.0    896   524 ?        Sl   16:07   0:00 /init
root         7  0.0  0.0    896    80 ?        Ss   16:07   0:00 /init
root         8  0.0  0.0    896    80 ?        S    16:07   0:00 /init
bjordan      9  1.3  0.1  16724  8480 pts/0    Ss   16:07   0:01 -zsh
bjordan    224  0.0  0.0   7360  2168 pts/0    D+   16:09   0:00 script scripts/fulltest
bjordan    225  1.1  0.1  16516  8180 pts/1    Ss   16:09   0:00 zsh -i
bjordan    369  0.0  0.0   2492   584 pts/1    S+   16:09   0:00 ./techshell
bjordan    374  0.0  0.0  10860  3448 pts/1    R+   16:10   0:00 ps -aux
/mnt/c/users/brain/Documents/LA Tech Sophomore/W22/CSC222/sandbox/finalProject $ pwd
/mnt/c/users/brain/Documents/LA Tech Sophomore/W22/CSC222/sandbox/finalProject
/mnt/c/users/brain/Documents/LA Tech Sophomore/W22/CSC222/sandbox/finalProject $ cd testfiles
/mnt/c/users/brain/Documents/LA Tech Sophomore/W22/CSC222/sandbox/finalProject/testfiles $ ls
/mnt/c/users/brain/Documents/LA Tech Sophomore/W22/CSC222/sandbox/finalProject/testfiles $ ps -aux > ps.out
/mnt/c/users/brain/Documents/LA Tech Sophomore/W22/CSC222/sandbox/finalProject/testfiles $ wc ps  < ps.out
  9 102 667
/mnt/c/users/brain/Documents/LA Tech Sophomore/W22/CSC222/sandbox/finalProject/testfiles $ exit
[1m[7m%[27m[1m[0m                                                                                                                                       ]2;bjordan@Bronson-Laptop:/mnt/c/users/brain/Documents/LA Tech Sophomore/W22/CSC222/sandbox/finalProject]1;../finalProject[0m[27m[24m[J[35mbjordan@Ubuntu[WSL][39m:[31mW22/CSC222/sandbox/finalProject [1m[31m[36m% [0m[36m[39m[K[71C[32mâœ“[39m  4:11PM[80D[?1h=[?2004h[1m[31mm[0m[39m[1m[31mm[1m[31ma[0m[39m[0m[39mm[0m[39mak[32mm[32ma[32mk[32me[39m [90mclean[39m[39mc[39ml[39me[39ma[39mn[?1l>[?2004l
]2;make clean]1;makerm -f  obj/builtins.o  obj/techshell.o  obj/redirection.o  obj/tokenizer.o testfiles/*
[1m[7m%[27m[1m[0m                                                                                                                                       ]2;bjordan@Bronson-Laptop:/mnt/c/users/brain/Documents/LA Tech Sophomore/W22/CSC222/sandbox/finalProject]1;../finalProject[0m[27m[24m[J[35mbjordan@Ubuntu[WSL][39m:[31mW22/CSC222/sandbox/finalProject [1m[31m[36m% [0m[36m[39m[K[71C[32mâœ“[39m  4:11PM[80D[?1h=[?2004h[32ml[39m[32ml[39m[90ms[39m[32ml[32ms[39m[?1l>[?2004l
]2;ls --color=tty]1;ls[0m[01;32mMakefile[0m  [01;32mREADME.md[0m  [34;42mobj[0m  [34;42mscripts[0m  [34;42msrc[0m  [01;32mtechshell[0m  [34;42mtestfiles[0m
[1m[7m%[27m[1m[0m                                                                                                                                       ]2;bjordan@Bronson-Laptop:/mnt/c/users/brain/Documents/LA Tech Sophomore/W22/CSC222/sandbox/finalProject]1;../finalProject[0m[27m[24m[J[35mbjordan@Ubuntu[WSL][39m:[31mW22/CSC222/sandbox/finalProject [1m[31m[36m% [0m[36m[39m[K[71C[32mâœ“[39m  4:11PM[80D[?1h=[?2004h[?2004l

Script done on 2022-02-20 16:11:46-06:00 [COMMAND_EXIT_CODE="0"]
